<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>여기다멍 - 서비스 안내</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap" rel="stylesheet">

    <style type="text/css">
    body {
        font-family: 'Quicksand', sans-serif;
        background-color: #f9f9f9;
        margin: 0;
        padding: 0;
        color: #333;
    }

    .site-header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: 60px;
        background-color: white;
        border-bottom: 1px solid #ccc;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 20px;
        z-index: 1000;
    }

    .site-logo {
        display: flex;
        align-items: center;
        text-decoration: none;
        color: black;
        font-size: 20px;
        font-weight: bold;
    }

    .site-logo img {
        width: 40px;
        margin-right: 10px;
    }

    .auth-buttons a {
        margin-left: 10px;
        text-decoration: none;
        background-color: #fdf5b2;
        padding: 8px 14px;
        border-radius: 5px;
        color: black;
        font-weight: bold;
    }

    table.t2 {
        max-width: 900px;
        margin: 100px auto 40px;
        background: #ffffff;
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        font-size: 16px;
        line-height: 1.8;
    }

    .t2 h1 {
        text-align: center;
        font-size: 32px;
        margin-bottom: 10px;
    }

    .t2 h3 {
        text-align: center;
        font-weight: normal;
        color: #777;
        margin-bottom: 30px;
    }

    .t2 h2 {
        font-size: 20px;
        border-left: 4px solid #4CAF50;
        padding-left: 12px;
        margin-top: 40px;
        margin-bottom: 10px;
        color: #2b2b2b;
    }

    .t2 p {
        margin-bottom: 24px;
    }

    .t2 strong {
        color: #4CAF50;
    }

    .t2 hr {
        margin-top: 60px;
        border: none;
        border-top: 1px solid #eee;
    }

    .t2 p[style] {
        color: #999;
        font-size: 14px;
    }
    </style>

    <script>
		document.addEventListener("DOMContentLoaded", function () {
		    fetch("/auth/session-info")  // 🔁 checkLogin → session-info로 바뀌었으면 여기도 수정
		        .then(response => response.json())
		        .then(data => {
		            const authArea = document.getElementById("authArea");
		            authArea.innerHTML = "";
		
		            if (data.loggedIn) {
		                let mypageUrl = "/mypage/user";  // 기본값
		
		                if (data.role === "OWNER") {
		                    mypageUrl = "/mypage/owner";
		                } else if (data.role === "ADMIN") {
		                    mypageUrl = "/mypage/admin";
		                }
		
		                authArea.innerHTML = `
		                    <a href="${mypageUrl}">마이페이지</a>
		                    <a href="/auth/logout">로그아웃</a>
		                `;
		            } else {
		                authArea.innerHTML = `
		                    <a href="/auth/login">로그인</a>
		                    <a href="/auth/signup">회원가입</a>
		                `;
		            }
		        });
		});
		</script>
</head>

<body>
    <div class="site-header">
        <a href="/index.html" class="site-logo">
            <img src="/images/HereIsDog-logo.png" alt="로고">
            여기다멍
        </a>
        <div id="authArea" class="auth-buttons"></div>
    </div>

    <table class="t2">
        <tbody>
            <tr>
                <td valign="top">
                    <div style="text-align: center">
                        <h1>여기다멍 이용 안내</h1>
                        <h3>반려견과 함께하는 모든 장소의 정보를 한눈에</h3>
                    </div>

                    <p>
                        <strong>여기다멍</strong>은 반려견과 함께 갈 수 있는 장소를 검색하고, 공유하고,  
                        평가할 수 있는 커뮤니티 기반의 플랫폼입니다.
                        <br><br>로그인 없이도 장소를 찾아볼 수 있지만,  
                        장소 등록이나 리뷰 작성을 위해서는 회원가입이 필요합니다.
                    </p>

                    <h2><a id="Signup"></a>회원가입</h2>
                    <p>
                        상단 오른쪽의 <strong>로그인</strong> 버튼을 클릭한 뒤,  
                        <strong>회원가입</strong> 링크를 통해 가입할 수 있습니다.  
                        아이디와 비밀번호, 이메일 정보를 입력하면 가입이 완료됩니다.
                    </p>

                    <h2><a id="Login"></a>로그인</h2>
                    <p>
                        회원가입 후에는 아이디와 비밀번호를 통해 로그인할 수 있습니다.  
                        로그인하면 <strong>리뷰 작성</strong>, <strong>장소 등록</strong>,  
                        <strong>나의 찜 목록</strong> 등을 사용할 수 있습니다.
                    </p>

                    <h2><a id="PlaceSearch"></a>장소 검색</h2>
                    <p>
                        상단 검색창에 키워드를 입력하거나, 지역·유형별로 반려견 동반 장소를  
                        탐색할 수 있습니다.
                    </p>

                    <h2><a id="PlaceAdd"></a>장소 등록</h2>
                    <p>
                        로그인한 회원은 새로운 장소 정보를 직접 등록할 수 있습니다.  
                        등록된 장소는 운영자의 검토 후 반영됩니다.
                    </p>

                    <h2><a id="ReviewWrite"></a>리뷰 작성</h2>
                    <p>
                        방문한 장소에 대해 리뷰를 작성하여 다른 반려인들과 정보를 공유할 수 있습니다.  
                        사진과 평점을 함께 등록할 수 있습니다.
                    </p>

                    <h2><a id="MyPage"></a>내 정보 관리</h2>
                    <p>
                        '마이페이지'에서는 내가 등록한 장소, 찜한 장소, 작성한 리뷰 등을  
                        한눈에 확인하고 관리할 수 있습니다.
                    </p>

                    <hr>
                    <p style="text-align:center; font-size:14px;">
                        © 2025 여기다멍 | 반려견과 함께하는 모든 공간의 지도
                    </p>
                </td>
            </tr>
        </tbody>
    </table>
</body>
</html>
